# For configuration details, see https://github.com/wjdp/htmltest#wrench-configuration

LogLevel: 1 # info
OutputDir: config

IgnoreURLs:
  # Links used to demonstrate the target url
  # TODO may no longer be needed because we have escaped most of the wrong links in the documentation
  - "bonita.server.url.to.change"
  - "idp.saml.binding.url.to.change"
  - "my.company.domain"
  # - "^localhost" # not working
  # - "localhost" # work but not specific enough
  - "^http://localhost"
  ### TODO require authentication, currently fail. See if we can use an option to prevent this
  # Twitter requires authentication
  # - "twitter.com" # work but not specific enough
  # - "^twitter.com/bonitasoft$" # not working
  - "twitter.com/bonitasoft"
  - "x.com/bonitasoft"
  # TODO use a specific user agent to avoid the 999 error code
  # Require authentication. Http code 999: https://stackoverflow.com/questions/46214017/public-linkedin-profile-url-returns-server-status-code-999
  # - "linkedin.com" # work but not specific enough
  #  https://www.linkedin.com/company/bonitasoft/
  - "linkedin.com/company/bonitasoft"
  # only present when using a partial build and xref to other component versions is generated with Antora Atlas
  # otherwise, the doc should not include such links
  - "documentation.bonitasoft.com"

# The following does not work
  # bonita-doc: ignore dependencies pages that are generated
#  - "^bonita//portal-js-dependencies.html"
#  - "^bonita\/[^\/]+\/portal-js-dependencies\.html"
#  - "^bonita/[^/]+/portal-js-dependencies.html"
#  - "^bonita/[^/]+/portal-js-dependencies.*"


# Simulate a user agent of a real browser, because some sites block requests with the default user agent set by htmltest.
# https://github.com/wjdp/htmltest/issues/150#issuecomment-678300908
# Default is: {"Range":  "bytes=0-0", "Accept": "*/*"}
#HTTPHeaders: {"User-Agent": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:134.0) Gecko/20100101 Firefox/134.0"}
HTTPHeaders: {"User-Agent": "Bacon/123", "Range":  "bytes=0-0", "Accept": "*/*"}

# hello world

# when enabled custom user agent including ""Mozilla/5.0"
# Non-OK status: 400 --- bonita/2022.2/data/define-a-search-index.html --> https://www.facebook.com/bonitasoftbpm
# bonita/2022.2/data/documents-index.html
#  hitting --- bonita/2022.2/data/documents-index.html --> https://www.facebook.com/bonitasoftbpm
#  Non-OK status: 400 --- bonita/2022.2/data/documents-index.html --> https://www.facebook.com/bonitasoftbpm



# Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:134.0) Gecko/20100101 Firefox/134.0

  # lead to a HTTP 400 error
  # csc.bonitacloud.bonitasoft.com

  # Non-OK status: 403 --- bonita/2022.2/process/connector-migration.html --> https://mvnrepository.com/
  # hitting --- bonita/2022.2/identity/single-sign-on-with-saml.html --> https://csc.bonitacloud.bonitasoft.com/apps/CustomerServices/downloads
  #  Non-OK status: 400 --- bonita/2022.2/identity/single-sign-on-with-saml.html --> https://csc.bonitacloud.bonitasoft.com/apps/CustomerServices/downloads
  # hitting --- bonita/2022.2/runtime/licenses.html --> https://csc.bonitacloud.bonitasoft.com/apps/CustomerServices/licenses
  #  Non-OK status: 400 --- bonita/2022.2/runtime/licenses.html --> https://csc.bonitacloud.bonitasoft.com/apps/CustomerServices/licenses
  # The following does not work

  #   hitting --- bonita/2022.2/runtime/database-configuration.html --> https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html
  #  Non-OK status: 403 --- bonita/2022.2/runtime/database-configuration.html --> https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html
  #  hitting --- bonita/2022.2/runtime/database-configuration.html --> https://dev.mysql.com/doc/refman/8.0/en/packet-too-large.html
  #  Non-OK status: 403 --- bonita/2022.2/runtime/database-configuration.html --> https://dev.mysql.com/doc/refman/8.0/en/packet-too-large.html

  #  hitting --- bonita/2022.2/index.html --> https://www.youtube.com/playlist?list=PLvvoQatxaHOMHRiP7hFayNXTJNdxIEiYp
  #  Non-OK status: 404 --- bonita/2022.2/index.html --> https://www.youtube.com/playlist?list=PLvvoQatxaHOMHRiP7hFayNXTJNdxIEiYp



#### TODO to be tested
# EnforceHTTPS: true
# IgnoreHTTPS   Array of regexs of URLs to ignore for EnforceHTTPS. These URLs are still tested, unless also present in IgnoreURLs.
# IgnoreCanonicalBrokenLinks  When true produces a warning, rather than an error, for broken canonical links. When testing a site which isn't live yet or before publishing a new page canonical links will fail.   true

# LogSort   How to sort/present issues. Can be seq for sequential output or document to group by document.  document

